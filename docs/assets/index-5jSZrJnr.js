var W=Object.defineProperty;var X=(e,t,n)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var S=(e,t,n)=>X(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function E(){}function V(e){return e()}function F(){return Object.create(null)}function L(e){e.forEach(V)}function H(e){return typeof e=="function"}function Y(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Z(e){return Object.keys(e).length===0}function p(e,t){e.appendChild(t)}function b(e,t,n){e.insertBefore(t,n||null)}function g(e){e.parentNode&&e.parentNode.removeChild(e)}function J(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function y(e){return document.createElement(e)}function N(e){return document.createTextNode(e)}function C(){return N(" ")}function B(){return N("")}function A(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function x(e){return Array.from(e.childNodes)}function ee(e,t){t=""+t,e.data!==t&&(e.data=t)}let O;function k(e){O=e}function te(){if(!O)throw new Error("Function called outside component initialization");return O}function ne(e){te().$$.on_mount.push(e)}const w=[],R=[];let $=[];const T=[],re=Promise.resolve();let I=!1;function oe(){I||(I=!0,re.then(Q))}function M(e){$.push(e)}const P=new Set;let v=0;function Q(){if(v!==0)return;const e=O;do{try{for(;v<w.length;){const t=w[v];v++,k(t),le(t.$$)}}catch(t){throw w.length=0,v=0,t}for(k(null),w.length=0,v=0;R.length;)R.pop()();for(let t=0;t<$.length;t+=1){const n=$[t];P.has(n)||(P.add(n),n())}$.length=0}while(w.length);for(;T.length;)T.pop()();I=!1,P.clear(),k(e)}function le(e){if(e.fragment!==null){e.update(),L(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(M)}}function fe(e){const t=[],n=[];$.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),$=t}const ce=new Set;function ie(e,t){e&&e.i&&(ce.delete(e),e.i(t))}function j(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function ue(e,t,n){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),M(()=>{const l=e.$$.on_mount.map(V).filter(H);e.$$.on_destroy?e.$$.on_destroy.push(...l):L(l),e.$$.on_mount=[]}),o.forEach(M)}function se(e,t){const n=e.$$;n.fragment!==null&&(fe(n.after_update),L(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ae(e,t){e.$$.dirty[0]===-1&&(w.push(e),oe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function de(e,t,n,r,o,l,f=null,s=[-1]){const h=O;k(e);const a=e.$$={fragment:null,ctx:[],props:l,update:E,not_equal:o,bound:F(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(h?h.$$.context:[])),callbacks:F(),dirty:s,skip_bound:!1,root:t.target||h.$$.root};f&&f(a.root);let d=!1;if(a.ctx=n(e,t.props||{},(c,u,...i)=>{const m=i.length?i[0]:u;return a.ctx&&o(a.ctx[c],a.ctx[c]=m)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](m),d&&ae(e,c)),u}),a.update(),d=!0,L(a.before_update),a.fragment=r(a.ctx),t.target){if(t.hydrate){const c=x(t.target);a.fragment&&a.fragment.l(c),c.forEach(g)}else a.fragment&&a.fragment.c();t.intro&&ie(e.$$.fragment),ue(e,t.target,t.anchor),Q()}k(h)}class he{constructor(){S(this,"$$");S(this,"$$set")}$destroy(){se(this,1),this.$destroy=E}$on(t,n){if(!H(n))return E;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!Z(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const _e="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(_e);function U(e,t,n){const r=e.slice();return r[7]=t[n],r[9]=n,r}function q(e,t,n){const r=e.slice();return r[10]=t[n],r[12]=n,r}function me(e){let t;function n(l,f){return l[9]>=l[3][0]&&l[9]<l[3][0]+l[4].length&&l[12]>=l[3][1]&&l[12]<l[3][1]+l[4][0].length?ge:pe}let r=n(e),o=r(e);return{c(){o.c(),t=B()},m(l,f){o.m(l,f),b(l,t,f)},p(l,f){r===(r=n(l))&&o?o.p(l,f):(o.d(1),o=r(l),o&&(o.c(),o.m(t.parentNode,t)))},d(l){l&&g(t),o.d(l)}}}function pe(e){let t,n;return{c(){t=y("div"),A(t,"class",n="elem e"+e[10]+" svelte-jd55xc")},m(r,o){b(r,t,o)},p(r,o){o&1&&n!==(n="elem e"+r[10]+" svelte-jd55xc")&&A(t,"class",n)},d(r){r&&g(t)}}}function ge(e){let t,n;return{c(){t=y("div"),A(t,"class",n="elem e"+e[4][e[9]-e[3][0]][e[12]-e[3][1]]+" e"+e[10]+" svelte-jd55xc")},m(r,o){b(r,t,o)},p(r,o){o&25&&n!==(n="elem e"+r[4][r[9]-r[3][0]][r[12]-r[3][1]]+" e"+r[10]+" svelte-jd55xc")&&A(t,"class",n)},d(r){r&&g(t)}}}function D(e){let t,n=e[9]<20&&me(e);return{c(){n&&n.c(),t=B()},m(r,o){n&&n.m(r,o),b(r,t,o)},p(r,o){r[9]<20&&n.p(r,o)},d(r){r&&g(t),n&&n.d(r)}}}function G(e){let t,n=j(e[7]),r=[];for(let o=0;o<n.length;o+=1)r[o]=D(q(e,n,o));return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=B()},m(o,l){for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(o,l);b(o,t,l)},p(o,l){if(l&25){n=j(o[7]);let f;for(f=0;f<n.length;f+=1){const s=q(o,n,f);r[f]?r[f].p(s,l):(r[f]=D(s),r[f].c(),r[f].m(t.parentNode,t))}for(;f<r.length;f+=1)r[f].d(1);r.length=n.length}},d(o){o&&g(t),J(r,o)}}}function K(e){let t;return{c(){t=y("div"),t.textContent="Game Over"},m(n,r){b(n,t,r)},d(n){n&&g(t)}}}function ye(e){let t,n,r,o,l,f,s,h,a,d=j(e[0]),c=[];for(let i=0;i<d.length;i+=1)c[i]=G(U(e,d,i));let u=e[1]&&K();return{c(){t=y("main"),n=y("h2"),n.textContent="Tetris",r=C(),o=y("div");for(let i=0;i<c.length;i+=1)c[i].c();l=C(),f=y("div"),s=N("Score: "),h=N(e[2]),a=C(),u&&u.c(),A(o,"class","pÃ¡lya svelte-jd55xc")},m(i,m){b(i,t,m),p(t,n),p(t,r),p(t,o);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(o,null);p(t,l),p(t,f),p(f,s),p(f,h),p(t,a),u&&u.m(t,null)},p(i,[m]){if(m&25){d=j(i[0]);let _;for(_=0;_<d.length;_+=1){const z=U(i,d,_);c[_]?c[_].p(z,m):(c[_]=G(z),c[_].c(),c[_].m(o,null))}for(;_<c.length;_+=1)c[_].d(1);c.length=d.length}m&4&&ee(h,i[2]),i[1]?u||(u=K(),u.c(),u.m(t,null)):u&&(u.d(1),u=null)},i:E,o:E,d(i){i&&g(t),J(c,i),u&&u.d()}}}function be(e,t,n){ne(()=>{setInterval(()=>{a()},1e3)});var r=Array.from({length:21},d=>Array.from({length:10},c=>0));r[20]=r[20].map(d=>10);var o=[[[1,0],[1,0],[1,1]],[[0,2],[0,2],[2,2]],[[3,3,3],[0,3,0]],[[4,4,4,4]],[[5,5],[5,5]]],l=!1,f=0,s=[0,4],h=o[[0,1,2,3,4].sort((d,c)=>Math.random()-.5)[0]];window.onkeydown=d=>{if(!l&&(d.key=="ArrowLeft"&&s[1]>0&&n(3,s[1]--,s),d.key=="ArrowRight"&&s[1]+h[0].length<10&&n(3,s[1]++,s),d.key=="ArrowDown"&&a(),d.key=="ArrowUp")){var c=Array.from({length:h[0].length},u=>[]);h.forEach((u,i)=>{u.forEach((m,_)=>c[_][h.length-i-1]=m)}),n(4,h=c)}};function a(){if(l)return;let d=!1;h.forEach((c,u)=>{c.forEach((i,m)=>{i&&r[s[0]+u+1][s[1]+m]&&(d=!0)})}),d?(h.forEach((c,u)=>{c.forEach((i,m)=>{i&&n(0,r[s[0]+u][s[1]+m]=i,r)})}),n(3,s=[0,4]),n(4,h=o[[0,1,2,3,4].sort((c,u)=>Math.random()-.5)[0]]),h.forEach((c,u)=>{c.forEach((i,m)=>{i&&r[s[0]+u][s[1]+m]&&n(1,l=!0)})})):l||(n(3,s[0]++,s),n(2,f++,f))}return[r,l,f,s,h]}class ve extends he{constructor(t){super(),de(this,t,be,ye,Y,{})}}new ve({target:document.getElementById("app")});
